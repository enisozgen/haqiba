{% extends 'emacshaqiba/base.html' %}
{% load static %}

{% block body_block %}

<script>
function toggle(source) {
  checkboxes = document.getElementsByName('selected_code_list');
  for (var i=0, n=checkboxes.length; i<n; i++) {
    checkboxes[i].checked = source.checked;
  }
}
</script>

<!-- http://jsfiddle.net/userdude/KFFgf/1/ -->
<style>
#jsfiddle {
    width: 1000%;
    max-width: 870px;
    margin: 10px auto;
    border: 0px solid black;
    padding: 10px;
}
#jsfiddle .row {
    width: 100%;
    border: 0px solid green;
    border-left: 0;
    border-top: none;
    margin: 0;
    padding: 0;
}
#jsfiddle .block {
    border: 0px solid blue;
    border-bottom: 0;
    border-right: 0;
    float: left;
    width: 200px;
}
</style>

<div class="container" align="">
<div class="well" align="">
{% if codetemplate %}
<form class="form-horizontal" role="form" id="download_form" method="post" 
      style="width:40%;" action="/emacshaqiba/emacs_config/">

{% csrf_token %}
<div id="jsfiddle">
    <div class="row">
    {% for e in codetemplate %}
    <div class="block"> 
    <label class="checkbox">
	<input name="selected_code_list" type="checkbox" id={{e.id}} value={{e.name}}>
	<a class="text-success" href="/emacshaqiba/code/{{e.id}}">{{e.name}}</a>
      </label>
    </div>
    {% endfor %}
</div>

</div>
</div>
</div>

<div class="container" align="">
  <div class="form-group" align="center">
    <input type="checkbox" onClick="toggle(this)"/> Toggle All <br>
    <button type="submit" class="btn btn-success">Generate & Download config</button>
  </div> 
</div>

</form>

{% else %}
<p align="center"><strong>Nothing to display.</strong></p>
<p align="center">
<input class="btn btn-primary" type="button" name="submit"
       value="Submit Code"
       onClick="window.location.href='/emacshaqiba/code/submit'"/>
</p>
{% endif %}

{% endblock body_block %}

