{%load static %}

<ul class="nav nav-list">
<h2>Top codes</span></h2>
{% if codetemplate %}
	<table>
	{% for code in codetemplate|slice:":5" %}
		<tr>
                <td>{{ forloop.counter }}. <a href="/emacshaqiba/code/{{code.id}}">{{ code.name }}</a>
		  {% if code.download_count %}
		  <span class="badge">{{code.download_count}}</span>
		  {% endif %}</td>
            	</tr>
	{% endfor %}
	</table>

	<!-- paging to be applied for below list -->
	<h2>All codes</h2>
	{% if codetemplate %}
		<table id="results">
		{% for code in codetemplate %}
			<tr>
        			<td>{{ forloop.counter }}. <a href="/emacshaqiba/code/{{code.id}}">{{ code.name }}</a>
		  		{% if code.download_count %}
		  		<span class="badge">{{code.download_count}}</span>
		  		{% endif %}</td>
    			</tr>
		{% endfor %}
		</table>
	{% endif %}
	
	<!-- add page navigator for list here-->
	<ul class="pagination" id="unordered-list"></ul>
	
{% else %}
	<p>Nothing to display.</p>
{% endif %}
</ul>

<!-- pagination code starts here-->
<script src="{% static 'js/paging.js' %}"></script>
<script type="text/javascript">
        var pager = new Pager('results', 10); 
        //code before paging
        pager.init(); 
        //show page navigator
        pager.showPageNav(); 
        //show page
        pager.showPage(1);
</script>
<!-- pagination code ends here-->

{% comment %} 
to show first five codes I hv used |slice...  This can
be done in views but I don't want to alter views.  
{% endcomment %}
